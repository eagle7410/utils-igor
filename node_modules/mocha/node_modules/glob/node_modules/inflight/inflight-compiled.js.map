{"version":3,"sources":["inflight.js"],"names":[],"mappings":"AAAA,IAAI,SAAS,QAAQ,QAAR,CAAb;AACA,IAAI,OAAO,OAAO,MAAP,CAAc,IAAd,CAAX;AACA,IAAI,OAAO,QAAQ,MAAR,CAAX;;AAEA,OAAO,OAAP,GAAiB,OAAO,QAAP,CAAjB;;AAEA,SAAS,QAAT,CAAmB,GAAnB,EAAwB,EAAxB,EAA4B;AAC1B,MAAI,KAAK,GAAL,CAAJ,EAAe;AACb,SAAK,GAAL,EAAU,IAAV,CAAe,EAAf;AACA,WAAO,IAAP;AACD,GAHD,MAGO;AACL,SAAK,GAAL,IAAY,CAAC,EAAD,CAAZ;AACA,WAAO,QAAQ,GAAR,CAAP;AACD;AACF;;AAED,SAAS,OAAT,CAAkB,GAAlB,EAAuB;AACrB,SAAO,KAAK,SAAS,GAAT,GAAgB;AAC1B,QAAI,MAAM,KAAK,GAAL,CAAV;AACA,QAAI,MAAM,IAAI,MAAd;AACA,QAAI,OAAO,MAAM,SAAN,CAAX;AACA,SAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,GAApB,EAAyB,GAAzB,EAA8B;AAC5B,UAAI,CAAJ,EAAO,KAAP,CAAa,IAAb,EAAmB,IAAnB;AACD;AACD,QAAI,IAAI,MAAJ,GAAa,GAAjB,EAAsB;AACpB;AACA;AACA,UAAI,MAAJ,CAAW,CAAX,EAAc,GAAd;AACA,cAAQ,QAAR,CAAiB,YAAY;AAC3B,YAAI,KAAJ,CAAU,IAAV,EAAgB,IAAhB;AACD,OAFD;AAGD,KAPD,MAOO;AACL,aAAO,KAAK,GAAL,CAAP;AACD;AACF,GAjBM,CAAP;AAkBD;;AAED,SAAS,KAAT,CAAgB,IAAhB,EAAsB;AACpB,MAAI,SAAS,KAAK,MAAlB;AACA,MAAI,QAAQ,EAAZ;;AAEA,OAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,MAApB,EAA4B,GAA5B,EAAiC,MAAM,CAAN,IAAW,KAAK,CAAL,CAAX;AACjC,SAAO,KAAP;AACD","file":"inflight-compiled.js","sourcesContent":["var wrappy = require('wrappy')\nvar reqs = Object.create(null)\nvar once = require('once')\n\nmodule.exports = wrappy(inflight)\n\nfunction inflight (key, cb) {\n  if (reqs[key]) {\n    reqs[key].push(cb)\n    return null\n  } else {\n    reqs[key] = [cb]\n    return makeres(key)\n  }\n}\n\nfunction makeres (key) {\n  return once(function RES () {\n    var cbs = reqs[key]\n    var len = cbs.length\n    var args = slice(arguments)\n    for (var i = 0; i < len; i++) {\n      cbs[i].apply(null, args)\n    }\n    if (cbs.length > len) {\n      // added more in the interim.\n      // de-zalgo, just in case, but don't call again.\n      cbs.splice(0, len)\n      process.nextTick(function () {\n        RES.apply(null, args)\n      })\n    } else {\n      delete reqs[key]\n    }\n  })\n}\n\nfunction slice (args) {\n  var length = args.length\n  var array = []\n\n  for (var i = 0; i < length; i++) array[i] = args[i]\n  return array\n}\n"]}