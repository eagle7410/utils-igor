{"version":3,"sources":["hooker_test.js"],"names":[],"mappings":"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","file":"hooker_test-compiled.js","sourcesContent":["/*global require:true */\nvar hooker = require('../lib/hooker');\n\nexports['hook'] = {\n  setUp: function(done) {\n    this.order = [];\n    this.track = function() {\n      [].push.apply(this.order, arguments);\n    };\n\n    this.prop = 1;\n    this.add = function(a, b) {\n      this.track(\"add\", this.prop, a, b);\n      return this.prop + a + b;\n    };\n\n    this.obj = {\n      that: this,\n      prop: 1,\n      add1: function(a, b) {\n        this.that.track(\"add1\", this.prop, a, b);\n        return this.prop + a + b;\n      },\n      add2: function(a, b) {\n        this.that.track(\"add2\", this.prop, a, b);\n        return this.prop + a + b;\n      },\n      add3: function(a, b) {\n        this.that.track(\"add3\", this.prop, a, b);\n        return this.prop + a + b;\n      }\n    };\n\n    done();\n  },\n  'orig': function(test) {\n    test.expect(1);\n    var orig = this.add;\n    hooker.hook(this, \"add\", function() {});\n    test.strictEqual(hooker.orig(this, \"add\"), orig, \"should return a refernce to the original function.\");\n    test.done();\n  },\n  'once': function(test) {\n    test.expect(5);\n    var orig = this.add;\n    hooker.hook(this, \"add\", {\n      once: true,\n      pre: function(a, b) {\n        // Arguments are passed into pre-hook as specified.\n        this.track(\"before\", this.prop, a, b);\n      }\n    });\n    test.strictEqual(this.add(2, 3), 6, \"should return the original function's result.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"add\", 1, 2, 3], \"functions should execute in-order.\");\n    test.strictEqual(this.add, orig, \"should automatically unhook when once is specified.\");\n    this.order = [];\n    test.strictEqual(this.add(2, 3), 6, \"should return the original function's result.\");\n    test.deepEqual(this.order, [\"add\", 1, 2, 3], \"only the original function should execute.\");\n    test.done();\n  },\n  'pre-hook (simple syntax)': function(test) {\n    test.expect(3);\n    // Pre-hook.\n    var result = hooker.hook(this, \"add\", function(a, b) {\n      // Arguments are passed into pre-hook as specified.\n      this.track(\"before\", this.prop, a, b);\n    });\n    test.deepEqual(result, [\"add\"], \"add should have been hooked.\");\n    test.strictEqual(this.add(2, 3), 6, \"should return the original function's result.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"add\", 1, 2, 3], \"functions should execute in-order.\");\n    test.done();\n  },\n  'pre-hook': function(test) {\n    test.expect(3);\n    // Pre-hook.\n    var result = hooker.hook(this, \"add\", {\n      pre: function(a, b) {\n        // Arguments are passed into pre-hook as specified.\n        this.track(\"before\", this.prop, a, b);\n      }\n    });\n    test.deepEqual(result, [\"add\"], \"add should have been hooked.\");\n    test.strictEqual(this.add(2, 3), 6, \"should return the original function's result.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"add\", 1, 2, 3], \"functions should execute in-order.\");\n    test.done();\n  },\n  'post-hook': function(test) {\n    test.expect(3);\n    // Post-hook.\n    var result = hooker.hook(this, \"add\", {\n      post: function(result, a, b) {\n        // Arguments to post-hook are the original function's return value,\n        // followed by the specified function arguments.\n        this.track(\"after\", this.prop, a, b, result);\n      }\n    });\n    test.deepEqual(result, [\"add\"], \"add should have been hooked.\");\n    test.strictEqual(this.add(2, 3), 6, \"should return the original function's result.\");\n    test.deepEqual(this.order, [\"add\", 1, 2, 3, \"after\", 1, 2, 3, 6], \"functions should execute in-order.\");\n    test.done();\n  },\n  'pre- & post-hook': function(test) {\n    test.expect(2);\n    // Pre- & post-hook.\n    hooker.hook(this, \"add\", {\n      pre: function(a, b) {\n        // Arguments are passed into pre-hook as specified.\n        this.track(\"before\", this.prop, a, b);\n      },\n      post: function(result, a, b) {\n        // Arguments to post-hook are the original function's return value,\n        // followed by the specified function arguments.\n        this.track(\"after\", this.prop, a, b, result);\n      }\n    });\n    test.strictEqual(this.add(2, 3), 6, \"should return the original function's result.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"add\", 1, 2, 3, \"after\", 1, 2, 3, 6], \"functions should execute in-order.\");\n    test.done();\n  },\n\n  'pre-hook, return value override': function(test) {\n    test.expect(2);\n    // Pre-hook.\n    hooker.hook(this, \"add\", {\n      pre: function(a, b) {\n        // Arguments are passed into pre-hook as specified.\n        this.track(\"before\", this.prop, a, b);\n        // This return value will override the original function's return value.\n        return hooker.override(\"b\" + this.prop + a + b);\n      }\n    });\n    test.strictEqual(this.add(2, 3), \"b123\", \"should return the overridden result.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"add\", 1, 2, 3], \"functions should execute in-order.\");\n    test.done();\n  },\n  'post-hook, return value override': function(test) {\n    test.expect(2);\n    // Post-hook.\n    hooker.hook(this, \"add\", {\n      post: function(result, a, b) {\n        // Arguments to post-hook are the original function's return value,\n        // followed by the specified function arguments.\n        this.track(\"after\", this.prop, a, b, result);\n        // This return value will override the original function's return value.\n        return hooker.override(\"a\" + this.prop + a + b + result);\n      }\n    });\n    test.strictEqual(this.add(2, 3), \"a1236\", \"should return the post-hook overridden result.\");\n    test.deepEqual(this.order, [\"add\", 1, 2, 3, \"after\", 1, 2, 3, 6], \"functions should execute in-order.\");\n    test.done();\n  },\n  'pre- & post-hook, return value override': function(test) {\n    test.expect(2);\n    // Pre- & post-hook.\n    hooker.hook(this, \"add\", {\n      pre: function(a, b) {\n        // Arguments are passed into pre-hook as specified.\n        this.track(\"before\", this.prop, a, b);\n        // This return value will override the original function's return value.\n        return hooker.override(\"b\" + this.prop + a + b);\n      },\n      post: function(result, a, b) {\n        // Arguments to post-hook are the original function's return value,\n        // followed by the specified function arguments.\n        this.track(\"after\", this.prop, a, b, result);\n        // This return value will override the original function's return value\n        // AND the pre-hook's return value.\n        return hooker.override(\"a\" + this.prop + a + b + result);\n      }\n    });\n    test.strictEqual(this.add(2, 3), \"a1236\", \"should return the overridden result, and post-hook result should take precedence over pre-hook result.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"add\", 1, 2, 3, \"after\", 1, 2, 3, 6], \"functions should execute in-order.\");\n    test.done();\n  },\n\n  'pre-hook, filtering arguments': function(test) {\n    test.expect(2);\n    // Pre-hook.\n    hooker.hook(this, \"add\", {\n      pre: function(a, b) {\n        // Arguments are passed into pre-hook as specified.\n        this.track(\"before\", this.prop, a, b);\n        // Return hooker.filter(context, arguments) and they will be passed into\n        // the original function. The \"track\" and \"order\" propterites are just\n        // set here for the same of this unit test.\n        return hooker.filter({prop: \"x\", track: this.track, order: this.order}, [\"y\", \"z\"]);\n      }\n    });\n    test.strictEqual(this.add(2, 3), \"xyz\", \"should return the original function's result, given filtered context and arguments.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"add\", \"x\", \"y\", \"z\"], \"functions should execute in-order.\");\n    test.done();\n  },\n  'pre- & post-hook, filtering arguments': function(test) {\n    test.expect(2);\n    // Pre- & post-hook.\n    hooker.hook(this, \"add\", {\n      pre: function(a, b) {\n        // Arguments are passed into pre-hook as specified.\n        this.track(\"before\", this.prop, a, b);\n        // Return hooker.filter(context, arguments) and they will be passed into\n        // the original function. The \"track\" and \"order\" propterites are just\n        // set here for the same of this unit test.\n        return hooker.filter({prop: \"x\", track: this.track, order: this.order}, [\"y\", \"z\"]);\n      },\n      post: function(result, a, b) {\n        // Arguments to post-hook are the original function's return value,\n        // followed by the specified function arguments.\n        this.track(\"after\", this.prop, a, b, result);\n      }\n    });\n    test.strictEqual(this.add(2, 3), \"xyz\", \"should return the original function's result, given filtered context and arguments.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"add\", \"x\", \"y\", \"z\", \"after\", 1, 2, 3, \"xyz\"], \"functions should execute in-order.\");\n    test.done();\n  },\n  'pre- & post-hook, filtering arguments, return value override': function(test) {\n    test.expect(2);\n    // Pre- & post-hook.\n    hooker.hook(this, \"add\", {\n      pre: function(a, b) {\n        // Arguments are passed into pre-hook as specified.\n        this.track(\"before\", this.prop, a, b);\n        // Return hooker.filter(context, arguments) and they will be passed into\n        // the original function. The \"track\" and \"order\" propterites are just\n        // set here for the same of this unit test.\n        return hooker.filter({prop: \"x\", track: this.track, order: this.order}, [\"y\", \"z\"]);\n      },\n      post: function(result, a, b) {\n        // Arguments to post-hook are the original function's return value,\n        // followed by the specified function arguments.\n        this.track(\"after\", this.prop, a, b, result);\n        // This return value will override the original function's return value\n        // AND the pre-hook's return value.\n        return hooker.override(\"a\" + this.prop + a + b + result);\n      }\n    });\n    test.strictEqual(this.add(2, 3), \"a123xyz\", \"should return the post-hook overridden result.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"add\", \"x\", \"y\", \"z\", \"after\", 1, 2, 3, \"xyz\"], \"functions should execute in-order.\");\n    test.done();\n  },\n\n  'pre-hook, preempt original function': function(test) {\n    test.expect(2);\n    // Pre-hook.\n    hooker.hook(this, \"add\", {\n      pre: function(a, b) {\n        // Arguments are passed into pre-hook as specified.\n        this.track(\"before\", this.prop, a, b);\n        // Returning hooker.preempt will prevent the original function from being\n        // invoked and optionally set a return value.\n        return hooker.preempt();\n      }\n    });\n    test.strictEqual(this.add(2, 3), undefined, \"should return the value passed to preempt.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3], \"functions should execute in-order.\");\n    test.done();\n  },\n  'pre-hook, preempt original function with value': function(test) {\n    test.expect(2);\n    // Pre-hook.\n    hooker.hook(this, \"add\", {\n      pre: function(a, b) {\n        // Arguments are passed into pre-hook as specified.\n        this.track(\"before\", this.prop, a, b);\n        // Returning hooker.preempt will prevent the original function from being\n        // invoked and optionally set a return value.\n        return hooker.preempt(9000);\n      }\n    });\n    test.strictEqual(this.add(2, 3), 9000, \"should return the value passed to preempt.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3], \"functions should execute in-order.\");\n    test.done();\n  },\n  'pre- & post-hook, preempt original function with value': function(test) {\n    test.expect(2);\n    // Pre- & post-hook.\n    hooker.hook(this, \"add\", {\n      pre: function(a, b) {\n        // Arguments are passed into pre-hook as specified.\n        this.track(\"before\", this.prop, a, b);\n        // Returning hooker.preempt will prevent the original function from being\n        // invoked and optionally set a return value.\n        return hooker.preempt(9000);\n      },\n      post: function(result, a, b) {\n        // Arguments to post-hook are the original function's return value,\n        // followed by the specified function arguments.\n        this.track(\"after\", this.prop, a, b, result);\n      }\n    });\n    test.strictEqual(this.add(2, 3), 9000, \"should return the value passed to preempt.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"after\", 1, 2, 3, 9000], \"functions should execute in-order.\");\n    test.done();\n  },\n  'pre- & post-hook, preempt original function with value, return value override': function(test) {\n    test.expect(2);\n    // Pre- & post-hook.\n    hooker.hook(this, \"add\", {\n      pre: function(a, b) {\n        // Arguments are passed into pre-hook as specified.\n        this.track(\"before\", this.prop, a, b);\n        // Returning hooker.preempt will prevent the original function from being\n        // invoked and optionally set a return value.\n        return hooker.preempt(9000);\n      },\n      post: function(result, a, b) {\n        // Arguments to post-hook are the original function's return value,\n        // followed by the specified function arguments.\n        this.track(\"after\", this.prop, a, b, result);\n        // This return value will override any preempt value set in pre-hook.\n        return hooker.override(\"a\" + this.prop + a + b + result);\n      }\n    });\n    test.strictEqual(this.add(2, 3), \"a1239000\", \"should return the overridden result, and post-hook result should take precedence over preempt value.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"after\", 1, 2, 3, 9000], \"functions should execute in-order.\");\n    test.done();\n  },\n  'pre- & post-hook, some properties': function(test) {\n    test.expect(7);\n    // Pre- & post-hook.\n    var result = hooker.hook(this.obj, [\"add1\", \"add2\"], {\n      pre: function(a, b) {\n        // Arguments are passed into pre-hook as specified.\n        this.that.track(\"before\", this.prop, a, b);\n      },\n      post: function(result, a, b) {\n        // Arguments to post-hook are the original function's return value,\n        // followed by the specified function arguments.\n        this.that.track(\"after\", this.prop, a, b, result);\n      }\n    });\n    test.deepEqual(result.sort(), [\"add1\", \"add2\"], \"both functions should have been hooked.\");\n    test.strictEqual(this.obj.add1(2, 3), 6, \"should return the original function's result.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"add1\", 1, 2, 3, \"after\", 1, 2, 3, 6], \"functions should execute in-order.\");\n    this.order = [];\n    test.strictEqual(this.obj.add2(2, 3), 6, \"should return the original function's result.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"add2\", 1, 2, 3, \"after\", 1, 2, 3, 6], \"functions should execute in-order.\");\n    this.order = [];\n    test.strictEqual(this.obj.add3(2, 3), 6, \"should return the original function's result.\");\n    test.deepEqual(this.order, [\"add3\", 1, 2, 3], \"functions should execute in-order.\");\n    test.done();\n  },\n  'pre- & post-hook, all properties': function(test) {\n    test.expect(7);\n    // Pre- & post-hook.\n    var result = hooker.hook(this.obj, {\n      pre: function(a, b) {\n        // Arguments are passed into pre-hook as specified.\n        this.that.track(\"before\", this.prop, a, b);\n      },\n      post: function(result, a, b) {\n        // Arguments to post-hook are the original function's return value,\n        // followed by the specified function arguments.\n        this.that.track(\"after\", this.prop, a, b, result);\n      }\n    });\n    test.deepEqual(result.sort(), [\"add1\", \"add2\", \"add3\"], \"all functions should have been hooked.\");\n    test.strictEqual(this.obj.add1(2, 3), 6, \"should return the original function's result.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"add1\", 1, 2, 3, \"after\", 1, 2, 3, 6], \"functions should execute in-order.\");\n    this.order = [];\n    test.strictEqual(this.obj.add2(2, 3), 6, \"should return the original function's result.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"add2\", 1, 2, 3, \"after\", 1, 2, 3, 6], \"functions should execute in-order.\");\n    this.order = [];\n    test.strictEqual(this.obj.add3(2, 3), 6, \"should return the original function's result.\");\n    test.deepEqual(this.order, [\"before\", 1, 2, 3, \"add3\", 1, 2, 3, \"after\", 1, 2, 3, 6], \"functions should execute in-order.\");\n    test.done();\n  },\n  'pre- & post-hook, all properties, passName': function(test) {\n    test.expect(6);\n    // Pre- & post-hook.\n    hooker.hook(this.obj, {\n      passName: true,\n      pre: function(name, a, b) {\n        // Arguments are passed into pre-hook as specified.\n        this.that.track(\"before\", this.prop, name, a, b);\n      },\n      post: function(result, name, a, b) {\n        // Arguments to post-hook are the original function's return value,\n        // followed by the specified function arguments.\n        this.that.track(\"after\", this.prop, name, a, b, result);\n      }\n    });\n    test.strictEqual(this.obj.add1(2, 3), 6, \"should return the original function's result.\");\n    test.deepEqual(this.order, [\"before\", 1, \"add1\", 2, 3, \"add1\", 1, 2, 3, \"after\", 1, \"add1\", 2, 3, 6], \"functions should execute in-order.\");\n    this.order = [];\n    test.strictEqual(this.obj.add2(2, 3), 6, \"should return the original function's result.\");\n    test.deepEqual(this.order, [\"before\", 1, \"add2\", 2, 3, \"add2\", 1, 2, 3, \"after\", 1, \"add2\", 2, 3, 6], \"functions should execute in-order.\");\n    this.order = [];\n    test.strictEqual(this.obj.add3(2, 3), 6, \"should return the original function's result.\");\n    test.deepEqual(this.order, [\"before\", 1, \"add3\", 2, 3, \"add3\", 1, 2, 3, \"after\", 1, \"add3\", 2, 3, 6], \"functions should execute in-order.\");\n    test.done();\n  },\n  'unhook one property': function(test) {\n    test.expect(5);\n    var orig = this.add;\n    hooker.hook(this, \"add\", function() {});\n    var result = hooker.unhook(this, \"add\");\n    test.deepEqual(result, [\"add\"], \"one function should have been unhooked.\");\n    test.strictEqual(this.add, orig, \"should have unhooked, restoring the original function\");\n    result = hooker.unhook(this, \"add\");\n    test.deepEqual(result, [], \"nothing should have been unhooked.\");\n    test.strictEqual(this.add, orig, \"shouldn't explode if already unhooked\");\n    test.strictEqual(this.add.orig, undefined, \"original function shouldn't have an orig property\");\n    test.done();\n  },\n  'unhook some properties': function(test) {\n    test.expect(6);\n    var add1 = this.obj.add1;\n    var add2 = this.obj.add2;\n    hooker.hook(this.obj, [\"add1\", \"add2\"], function() {});\n    test.strictEqual(hooker.orig(this.obj, \"add1\"), add1, \"should return a refernce to the original function\");\n    test.strictEqual(hooker.orig(this.obj, \"add2\"), add2, \"should return a refernce to the original function\");\n    test.strictEqual(hooker.orig(this.obj, \"add3\"), undefined, \"should not have been hooked, so should not have an original function\");\n    var result = hooker.unhook(this.obj, [\"add1\", \"add2\"]);\n    test.deepEqual(result.sort(), [\"add1\", \"add2\"], \"both functions should have been unhooked.\");\n    test.strictEqual(this.obj.add1, add1, \"should have unhooked, restoring the original function\");\n    test.strictEqual(this.obj.add2, add2, \"should have unhooked, restoring the original function\");\n    test.done();\n  },\n  'unhook all properties': function(test) {\n    test.expect(7);\n    var add1 = this.obj.add1;\n    var add2 = this.obj.add2;\n    var add3 = this.obj.add3;\n    hooker.hook(this.obj, function() {});\n    test.strictEqual(hooker.orig(this.obj, \"add1\"), add1, \"should return a refernce to the original function\");\n    test.strictEqual(hooker.orig(this.obj, \"add2\"), add2, \"should return a refernce to the original function\");\n    test.strictEqual(hooker.orig(this.obj, \"add3\"), add3, \"should return a refernce to the original function\");\n    var result = hooker.unhook(this.obj);\n    test.deepEqual(result.sort(), [\"add1\", \"add2\", \"add3\"], \"all functions should have been unhooked.\");\n    test.strictEqual(this.obj.add1, add1, \"should have unhooked, restoring the original function\");\n    test.strictEqual(this.obj.add2, add2, \"should have unhooked, restoring the original function\");\n    test.strictEqual(this.obj.add3, add3, \"should have unhooked, restoring the original function\");\n    test.done();\n  }\n};\n"]}